<!doctype html>
<html lang="th">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ - LoveStory</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
    }
    
    @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&family=Prompt:wght@400;600;700&display=swap');
    
    * {
      font-family: 'Sarabun', sans-serif;
    }
    
    .gradient-bg {
      background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%);
    }
    
    .cart-item {
      transition: all 0.3s ease;
    }
    
    .cart-item:hover {
      transform: translateX(-5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    }
    
    .action-btn {
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .action-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
    }
    
    .action-btn:active {
      transform: translateY(-1px);
    }
    
    .action-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }
    
    .toast {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 18px 28px;
      border-radius: 14px;
      font-weight: 600;
      opacity: 0;
      transform: translateX(400px);
      transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      z-index: 1000;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
    }
    
    .toast.show {
      opacity: 1;
      transform: translateX(0);
    }
    
    .flower-decoration {
      animation: float 3s ease-in-out infinite;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    
    .quantity-btn {
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.2s ease;
      border: 2px solid;
    }
    
    .quantity-btn:hover {
      transform: scale(1.1);
    }
    
    .quantity-btn:active {
      transform: scale(0.95);
    }
    
    .remove-btn {
      cursor: pointer;
      transition: all 0.2s ease;
      padding: 8px;
      border-radius: 8px;
    }
    
    .remove-btn:hover {
      transform: scale(1.1);
    }
    
    .badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
    }
    
    .summary-card {
      position: sticky;
      top: 20px;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="w-full min-h-full">
  <main class="w-full"><!-- Navigation -->
   <nav class="w-full py-6 px-6 shadow-lg" id="nav">
    <div class="max-w-7xl mx-auto flex justify-between items-center">
     <div class="flex items-center space-x-3">
      <div class="text-4xl flower-decoration">
       üå∏
      </div><span class="text-3xl font-bold" id="site-title" style="font-family: 'Prompt', sans-serif;">LoveStory</span>
     </div>
     <div class="hidden md:flex items-center space-x-8"><a href="#" class="font-semibold hover:opacity-70 transition-opacity">üè† ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a> <a href="#" class="font-semibold hover:opacity-70 transition-opacity">üìö ‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</a>
      <div class="relative"><span class="text-2xl cursor-pointer">üõí</span> <span class="absolute -top-2 -right-2 w-6 h-6 rounded-full text-xs flex items-center justify-center font-bold" id="cart-count">3</span>
      </div>
     </div>
    </div>
   </nav><!-- Toast Notification -->
   <div id="toast" class="toast"><span id="toast-message"></span>
   </div><!-- Cart Content -->
   <section class="w-full py-16 px-6" id="cart-section">
    <div class="max-w-7xl mx-auto"><!-- Page Title -->
     <h1 class="text-5xl font-bold mb-12 flex items-center gap-4" id="page-title" style="font-family: 'Prompt', sans-serif;"><span>üõí</span> <span id="page-title-text">‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</span></h1>
     <div class="grid grid-cols-1 lg:grid-cols-3 gap-10"><!-- Cart Items -->
      <div class="lg:col-span-2">
       <div id="cart-items-container" class="space-y-6"><!-- Cart Item 1 -->
        <div class="cart-item p-6 rounded-3xl shadow-lg" id="item-1" data-item-id="1">
         <div class="flex gap-6">
          <div class="w-24 h-32 rounded-xl flex-shrink-0 overflow-hidden">
           <div class="w-full h-full gradient-bg flex items-center justify-center text-4xl">
            üíï
           </div>
          </div>
          <div class="flex-1">
           <div class="flex justify-between items-start mb-3">
            <div>
             <h3 class="text-2xl font-bold mb-2" style="font-family: 'Prompt', sans-serif;">‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ‡πÉ‡∏ô‡∏™‡∏≤‡∏¢‡∏ù‡∏ô</h3>
             <p class="text-base opacity-70 mb-2">‡πÇ‡∏î‡∏¢: ‡∏•‡∏°‡∏´‡∏ô‡∏≤‡∏ß</p><span class="badge" id="badge-1">üîñ ‡πÄ‡∏ä‡πà‡∏≤ 7 ‡∏ß‡∏±‡∏ô</span>
            </div><button class="remove-btn" onclick="removeItem(1)" title="‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤"> <span class="text-2xl">üóëÔ∏è</span> </button>
           </div>
           <div class="flex items-center justify-between mt-6">
            <div class="flex items-center gap-4"><span class="text-base font-semibold opacity-70">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô:</span>
             <div class="flex items-center gap-3"><button class="quantity-btn" id="decrease-1" onclick="decreaseQuantity(1)">‚àí</button> <span class="text-xl font-bold w-12 text-center" id="quantity-1">1</span> <button class="quantity-btn" id="increase-1" onclick="increaseQuantity(1)">+</button>
             </div>
            </div>
            <div class="text-right">
             <p class="text-3xl font-bold" id="price-1">59‡∏ø</p>
            </div>
           </div>
          </div>
         </div>
        </div><!-- Cart Item 2 -->
        <div class="cart-item p-6 rounded-3xl shadow-lg" id="item-2" data-item-id="2">
         <div class="flex gap-6">
          <div class="w-24 h-32 rounded-xl flex-shrink-0 overflow-hidden">
           <div class="w-full h-full flex items-center justify-center text-4xl" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
            üíú
           </div>
          </div>
          <div class="flex-1">
           <div class="flex justify-between items-start mb-3">
            <div>
             <h3 class="text-2xl font-bold mb-2" style="font-family: 'Prompt', sans-serif;">‡∏ù‡∏±‡∏ô‡πÉ‡∏ô‡∏§‡∏î‡∏π‡∏ù‡∏ô</h3>
             <p class="text-base opacity-70 mb-2">‡πÇ‡∏î‡∏¢: ‡∏ü‡πâ‡∏≤‡πÉ‡∏™</p><span class="badge" id="badge-2">‚≠ê ‡∏ã‡∏∑‡πâ‡∏≠‡∏ñ‡∏≤‡∏ß‡∏£</span>
            </div><button class="remove-btn" onclick="removeItem(2)" title="‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤"> <span class="text-2xl">üóëÔ∏è</span> </button>
           </div>
           <div class="flex items-center justify-between mt-6">
            <div class="flex items-center gap-4"><span class="text-base font-semibold opacity-70">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô:</span>
             <div class="flex items-center gap-3"><button class="quantity-btn" id="decrease-2" onclick="decreaseQuantity(2)">‚àí</button> <span class="text-xl font-bold w-12 text-center" id="quantity-2">1</span> <button class="quantity-btn" id="increase-2" onclick="increaseQuantity(2)">+</button>
             </div>
            </div>
            <div class="text-right">
             <p class="text-3xl font-bold" id="price-2">299‡∏ø</p>
            </div>
           </div>
          </div>
         </div>
        </div><!-- Cart Item 3 -->
        <div class="cart-item p-6 rounded-3xl shadow-lg" id="item-3" data-item-id="3">
         <div class="flex gap-6">
          <div class="w-24 h-32 rounded-xl flex-shrink-0 overflow-hidden">
           <div class="w-full h-full flex items-center justify-center text-4xl" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
            üíó
           </div>
          </div>
          <div class="flex-1">
           <div class="flex justify-between items-start mb-3">
            <div>
             <h3 class="text-2xl font-bold mb-2" style="font-family: 'Prompt', sans-serif;">‡πÄ‡∏ò‡∏≠‡∏Ñ‡∏∑‡∏≠‡πÅ‡∏™‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á</h3>
             <p class="text-base opacity-70 mb-2">‡πÇ‡∏î‡∏¢: ‡∏î‡∏ß‡∏á‡πÉ‡∏à</p><span class="badge" id="badge-3">‚≠ê ‡∏ã‡∏∑‡πâ‡∏≠‡∏ñ‡∏≤‡∏ß‡∏£</span>
            </div><button class="remove-btn" onclick="removeItem(3)" title="‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤"> <span class="text-2xl">üóëÔ∏è</span> </button>
           </div>
           <div class="flex items-center justify-between mt-6">
            <div class="flex items-center gap-4"><span class="text-base font-semibold opacity-70">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô:</span>
             <div class="flex items-center gap-3"><button class="quantity-btn" id="decrease-3" onclick="decreaseQuantity(3)">‚àí</button> <span class="text-xl font-bold w-12 text-center" id="quantity-3">2</span> <button class="quantity-btn" id="increase-3" onclick="increaseQuantity(3)">+</button>
             </div>
            </div>
            <div class="text-right">
             <p class="text-3xl font-bold" id="price-3">658‡∏ø</p>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div><!-- Empty Cart Message (hidden by default) -->
       <div id="empty-cart" class="text-center py-20" style="display: none;">
        <div class="text-8xl mb-6">
         üõí
        </div>
        <h2 class="text-3xl font-bold mb-4" id="empty-cart-message-text">‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏±‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤</h2>
        <p class="text-xl opacity-70 mb-8">‡∏°‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠ GL ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏∑‡πà‡∏ô‡∏ä‡∏≠‡∏ö‡∏Å‡∏±‡∏ô‡πÄ‡∏ñ‡∏≠‡∏∞! üíï</p><button class="action-btn px-10 py-4 rounded-2xl font-bold text-lg" id="continue-shopping-btn" onclick="handleContinueShopping()"> <span id="continue-shopping-text">üìö ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ã‡∏∑‡πâ‡∏≠‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ï‡πà‡∏≠</span> </button>
       </div>
      </div><!-- Order Summary -->
      <div class="lg:col-span-1">
       <div class="summary-card p-8 rounded-3xl shadow-xl" id="summary-card">
        <h2 class="text-3xl font-bold mb-8" style="font-family: 'Prompt', sans-serif;">üìã ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h2>
        <div class="space-y-5 mb-6">
         <div class="flex justify-between text-lg"><span class="opacity-70">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°:</span> <span class="font-bold" id="subtotal">1,016‡∏ø</span>
         </div>
         <div class="flex justify-between text-lg"><span class="opacity-70">‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î:</span> <span class="font-bold" id="discount">-50‡∏ø</span>
         </div>
         <div class="border-t-2 pt-5" id="total-divider">
          <div class="flex justify-between text-2xl font-bold"><span>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</span> <span id="total">966‡∏ø</span>
          </div>
         </div>
        </div>
        <div class="space-y-4"><button class="action-btn w-full py-5 rounded-2xl font-bold text-lg shadow-lg" id="checkout-btn" onclick="handleCheckout()"> <span id="checkout-text">üí≥ ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</span> </button> <button class="action-btn w-full py-4 rounded-2xl font-semibold text-base" id="continue-btn" onclick="handleContinueShopping()"> <span id="continue-btn-text">‚Üê ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ã‡∏∑‡πâ‡∏≠‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ï‡πà‡∏≠</span> </button>
        </div><!-- Promo Code -->
        <div class="mt-8 p-5 rounded-2xl border-2" id="promo-section">
         <h3 class="font-bold text-base mb-3">üéÅ ‡∏°‡∏µ‡∏£‡∏´‡∏±‡∏™‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</h3>
         <div class="flex gap-3"><input type="text" id="promo-input" placeholder="‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î" class="flex-1 px-4 py-3 rounded-xl border-2 focus:outline-none"> <button class="action-btn px-6 py-3 rounded-xl font-bold" id="apply-promo-btn" onclick="handleApplyPromo()"> ‡πÉ‡∏ä‡πâ </button>
         </div>
        </div><!-- Benefits -->
        <div class="mt-8 space-y-3" id="benefits">
         <div class="flex items-center gap-3 text-sm"><span class="text-2xl">‚úÖ</span> <span class="opacity-80">‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏ó‡∏µ‡πà‡∏ó‡∏∏‡∏Å‡πÄ‡∏ß‡∏•‡∏≤</span>
         </div>
         <div class="flex items-center gap-3 text-sm"><span class="text-2xl">‚úÖ</span> <span class="opacity-80">‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</span>
         </div>
         <div class="flex items-center gap-3 text-sm"><span class="text-2xl">‚úÖ</span> <span class="opacity-80">‡∏Ñ‡∏∑‡∏ô‡πÄ‡∏á‡∏¥‡∏ô 100% ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 7 ‡∏ß‡∏±‡∏ô</span>
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>
   </section><!-- Footer -->
   <footer class="w-full py-10 px-6 mt-16" id="footer">
    <div class="max-w-7xl mx-auto">
     <div class="text-center mb-6">
      <div class="flex justify-center items-center gap-3 mb-4"><span class="text-4xl">üå∏</span> <span class="text-2xl font-bold" style="font-family: 'Prompt', sans-serif;">LoveStory</span>
      </div>
      <p class="text-lg" id="footer-text">¬© 2024 LoveStory - ‡∏ó‡∏∏‡∏Å‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß‡∏Ç‡∏≠‡∏á‡∏£‡∏±‡∏Å üíï</p>
     </div>
     <div class="flex justify-center gap-8 text-sm opacity-70"><a href="#" class="hover:opacity-100 transition-opacity">‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</a> <a href="#" class="hover:opacity-100 transition-opacity">‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</a> <a href="#" class="hover:opacity-100 transition-opacity">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</a>
     </div>
    </div>
   </footer>
  </main>
  <script>
    const defaultConfig = {
      background_color: "#fff0f5",
      surface_color: "#ffffff",
      text_color: "#2d2d2d",
      primary_action_color: "#ec4899",
      secondary_action_color: "#a78bfa",
      font_family: "Sarabun",
      font_size: 16,
      site_title: "LoveStory",
      page_title: "‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô",
      empty_cart_message: "‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏±‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤",
      btn_continue_shopping: "üìö ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ã‡∏∑‡πâ‡∏≠‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ï‡πà‡∏≠",
      btn_checkout: "üí≥ ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô",
      footer_text: "¬© 2024 LoveStory - ‡∏ó‡∏∏‡∏Å‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß‡∏Ç‡∏≠‡∏á‡∏£‡∏±‡∏Å üíï"
    };

    // Cart state
    let cartItems = [
      { id: 1, name: "‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ‡πÉ‡∏ô‡∏™‡∏≤‡∏¢‡∏ù‡∏ô", price: 59, quantity: 1, type: "rent" },
      { id: 2, name: "‡∏ù‡∏±‡∏ô‡πÉ‡∏ô‡∏§‡∏î‡∏π‡∏ù‡∏ô", price: 299, quantity: 1, type: "buy" },
      { id: 3, name: "‡πÄ‡∏ò‡∏≠‡∏Ñ‡∏∑‡∏≠‡πÅ‡∏™‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á", price: 329, quantity: 2, type: "buy" }
    ];

    // Toast notification function
    function showToast(message, bgColor) {
      const toast = document.getElementById('toast');
      const toastMessage = document.getElementById('toast-message');
      
      toastMessage.textContent = message;
      toast.style.backgroundColor = bgColor;
      toast.style.color = '#ffffff';
      toast.classList.add('show');
      
      setTimeout(() => {
        toast.classList.remove('show');
      }, 3000);
    }

    // Update cart display
    function updateCartDisplay() {
      const cartContainer = document.getElementById('cart-items-container');
      const emptyCart = document.getElementById('empty-cart');
      const summaryCard = document.getElementById('summary-card');
      const cartCount = document.getElementById('cart-count');
      
      if (cartItems.length === 0) {
        cartContainer.style.display = 'none';
        emptyCart.style.display = 'block';
        summaryCard.style.display = 'none';
        cartCount.textContent = '0';
      } else {
        cartContainer.style.display = 'block';
        emptyCart.style.display = 'none';
        summaryCard.style.display = 'block';
        
        const totalItems = cartItems.reduce((sum, item) => sum + item.quantity, 0);
        cartCount.textContent = totalItems;
        
        updateSummary();
      }
    }

    // Update order summary
    function updateSummary() {
      const subtotal = cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      const discount = 50;
      const total = subtotal - discount;
      
      document.getElementById('subtotal').textContent = subtotal + '‡∏ø';
      document.getElementById('discount').textContent = '-' + discount + '‡∏ø';
      document.getElementById('total').textContent = total + '‡∏ø';
    }

    // Increase quantity
    function increaseQuantity(itemId) {
      const item = cartItems.find(i => i.id === itemId);
      if (item) {
        item.quantity++;
        document.getElementById('quantity-' + itemId).textContent = item.quantity;
        
        const totalPrice = item.price * item.quantity;
        document.getElementById('price-' + itemId).textContent = totalPrice + '‡∏ø';
        
        updateCartDisplay();
        
        const secondaryColor = window.elementSdk ? 
          (window.elementSdk.config.secondary_action_color || defaultConfig.secondary_action_color) : 
          defaultConfig.secondary_action_color;
        showToast('‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß', secondaryColor);
      }
    }

    // Decrease quantity
    function decreaseQuantity(itemId) {
      const item = cartItems.find(i => i.id === itemId);
      if (item && item.quantity > 1) {
        item.quantity--;
        document.getElementById('quantity-' + itemId).textContent = item.quantity;
        
        const totalPrice = item.price * item.quantity;
        document.getElementById('price-' + itemId).textContent = totalPrice + '‡∏ø';
        
        updateCartDisplay();
        
        const secondaryColor = window.elementSdk ? 
          (window.elementSdk.config.secondary_action_color || defaultConfig.secondary_action_color) : 
          defaultConfig.secondary_action_color;
        showToast('‚úÖ ‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß', secondaryColor);
      }
    }

    // Remove item from cart
    function removeItem(itemId) {
      const itemElement = document.getElementById('item-' + itemId);
      if (itemElement) {
        itemElement.style.opacity = '0';
        itemElement.style.transform = 'translateX(-50px)';
        
        setTimeout(() => {
          cartItems = cartItems.filter(item => item.id !== itemId);
          itemElement.remove();
          updateCartDisplay();
          
          const primaryColor = window.elementSdk ? 
            (window.elementSdk.config.primary_action_color || defaultConfig.primary_action_color) : 
            defaultConfig.primary_action_color;
          showToast('üóëÔ∏è ‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß', primaryColor);
        }, 300);
      }
    }

    // Handle checkout
    function handleCheckout() {
      const primaryColor = window.elementSdk ? 
        (window.elementSdk.config.primary_action_color || defaultConfig.primary_action_color) : 
        defaultConfig.primary_action_color;
      showToast('üí≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ô‡∏≥‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô...', primaryColor);
    }

    // Handle continue shopping
    function handleContinueShopping() {
      const secondaryColor = window.elementSdk ? 
        (window.elementSdk.config.secondary_action_color || defaultConfig.secondary_action_color) : 
        defaultConfig.secondary_action_color;
      showToast('üìö ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠...', secondaryColor);
    }

    // Handle apply promo code
    function handleApplyPromo() {
      const promoInput = document.getElementById('promo-input');
      const code = promoInput.value.trim().toUpperCase();
      
      if (code === '') {
        const textColor = window.elementSdk ? 
          (window.elementSdk.config.text_color || defaultConfig.text_color) : 
          defaultConfig.text_color;
        showToast('‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î', textColor);
        return;
      }
      
      if (code === 'LOVE10' || code === 'GL2024') {
        const primaryColor = window.elementSdk ? 
          (window.elementSdk.config.primary_action_color || defaultConfig.primary_action_color) : 
          defaultConfig.primary_action_color;
        showToast('üéâ ‡πÉ‡∏ä‡πâ‡∏£‡∏´‡∏±‡∏™‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!', primaryColor);
        promoInput.value = '';
      } else {
        const textColor = window.elementSdk ? 
          (window.elementSdk.config.text_color || defaultConfig.text_color) : 
          defaultConfig.text_color;
        showToast('‚ùå ‡∏£‡∏´‡∏±‡∏™‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á', textColor);
      }
    }

    async function onConfigChange(config) {
      const body = document.body;
      const nav = document.getElementById('nav');
      const cartSection = document.getElementById('cart-section');
      const footer = document.getElementById('footer');
      
      const bgColor = config.background_color || defaultConfig.background_color;
      const surfaceColor = config.surface_color || defaultConfig.surface_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
      const secondaryColor = config.secondary_action_color || defaultConfig.secondary_action_color;
      const fontFamily = config.font_family || defaultConfig.font_family;
      const fontSize = config.font_size || defaultConfig.font_size;
      
      body.style.backgroundColor = bgColor;
      body.style.color = textColor;
      body.style.fontFamily = `${fontFamily}, sans-serif`;
      
      nav.style.backgroundColor = surfaceColor;
      nav.style.color = textColor;
      
      cartSection.style.backgroundColor = bgColor;
      
      footer.style.backgroundColor = primaryColor;
      footer.style.color = '#ffffff';
      
      // Cart count badge
      document.getElementById('cart-count').style.backgroundColor = primaryColor;
      document.getElementById('cart-count').style.color = '#ffffff';
      
      // Cart items
      const cartItemElements = document.querySelectorAll('.cart-item');
      cartItemElements.forEach(item => {
        item.style.backgroundColor = surfaceColor;
        item.style.color = textColor;
      });
      
      // Badges
      const badges = document.querySelectorAll('.badge');
      badges.forEach(badge => {
        badge.style.backgroundColor = secondaryColor;
        badge.style.color = '#ffffff';
      });
      
      // Quantity buttons
      const quantityBtns = document.querySelectorAll('.quantity-btn');
      quantityBtns.forEach(btn => {
        btn.style.backgroundColor = surfaceColor;
        btn.style.color = primaryColor;
        btn.style.borderColor = primaryColor;
      });
      
      // Remove buttons
      const removeBtns = document.querySelectorAll('.remove-btn');
      removeBtns.forEach(btn => {
        btn.style.backgroundColor = 'transparent';
      });
      
      // Summary card
      document.getElementById('summary-card').style.backgroundColor = surfaceColor;
      document.getElementById('summary-card').style.color = textColor;
      
      document.getElementById('total-divider').style.borderColor = primaryColor;
      
      // Checkout button
      document.getElementById('checkout-btn').style.backgroundColor = primaryColor;
      document.getElementById('checkout-btn').style.color = '#ffffff';
      
      // Continue shopping buttons
      document.getElementById('continue-btn').style.backgroundColor = secondaryColor;
      document.getElementById('continue-btn').style.color = '#ffffff';
      
      document.getElementById('continue-shopping-btn').style.backgroundColor = primaryColor;
      document.getElementById('continue-shopping-btn').style.color = '#ffffff';
      
      // Promo section
      document.getElementById('promo-section').style.backgroundColor = bgColor;
      document.getElementById('promo-section').style.color = textColor;
      document.getElementById('promo-section').style.borderColor = primaryColor;
      
      const promoInput = document.getElementById('promo-input');
      promoInput.style.backgroundColor = surfaceColor;
      promoInput.style.color = textColor;
      promoInput.style.borderColor = primaryColor;
      
      document.getElementById('apply-promo-btn').style.backgroundColor = secondaryColor;
      document.getElementById('apply-promo-btn').style.color = '#ffffff';
      
      // Benefits
      document.getElementById('benefits').style.color = textColor;
      
      // Empty cart
      document.getElementById('empty-cart').style.color = textColor;
      
      // Text content
      document.getElementById('site-title').textContent = config.site_title || defaultConfig.site_title;
      document.getElementById('site-title').style.fontSize = `${fontSize * 1.875}px`;
      document.getElementById('site-title').style.color = textColor;
      
      document.getElementById('page-title-text').textContent = config.page_title || defaultConfig.page_title;
      document.getElementById('page-title').style.fontSize = `${fontSize * 3.125}px`;
      document.getElementById('page-title').style.color = textColor;
      
      document.getElementById('empty-cart-message-text').textContent = config.empty_cart_message || defaultConfig.empty_cart_message;
      
      document.getElementById('continue-shopping-text').textContent = config.btn_continue_shopping || defaultConfig.btn_continue_shopping;
      document.getElementById('continue-btn-text').textContent = config.btn_continue_shopping || defaultConfig.btn_continue_shopping;
      
      document.getElementById('checkout-text').textContent = config.btn_checkout || defaultConfig.btn_checkout;
      
      document.getElementById('footer-text').textContent = config.footer_text || defaultConfig.footer_text;
      document.getElementById('footer-text').style.fontSize = `${fontSize * 1.125}px`;
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [
          {
            get: () => config.background_color || defaultConfig.background_color,
            set: (value) => {
              if (window.elementSdk) {
                window.elementSdk.config.background_color = value;
                window.elementSdk.setConfig({ background_color: value });
              }
            }
          },
          {
            get: () => config.surface_color || defaultConfig.surface_color,
            set: (value) => {
              if (window.elementSdk) {
                window.elementSdk.config.surface_color = value;
                window.elementSdk.setConfig({ surface_color: value });
              }
            }
          },
          {
            get: () => config.text_color || defaultConfig.text_color,
            set: (value) => {
              if (window.elementSdk) {
                window.elementSdk.config.text_color = value;
                window.elementSdk.setConfig({ text_color: value });
              }
            }
          },
          {
            get: () => config.primary_action_color || defaultConfig.primary_action_color,
            set: (value) => {
              if (window.elementSdk) {
                window.elementSdk.config.primary_action_color = value;
                window.elementSdk.setConfig({ primary_action_color: value });
              }
            }
          },
          {
            get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
            set: (value) => {
              if (window.elementSdk) {
                window.elementSdk.config.secondary_action_color = value;
                window.elementSdk.setConfig({ secondary_action_color: value });
              }
            }
          }
        ],
        borderables: [],
        fontEditable: {
          get: () => config.font_family || defaultConfig.font_family,
          set: (value) => {
            if (window.elementSdk) {
              window.elementSdk.config.font_family = value;
              window.elementSdk.setConfig({ font_family: value });
            }
          }
        },
        fontSizeable: {
          get: () => config.font_size || defaultConfig.font_size,
          set: (value) => {
            if (window.elementSdk) {
              window.elementSdk.config.font_size = value;
              window.elementSdk.setConfig({ font_size: value });
            }
          }
        }
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ["site_title", config.site_title || defaultConfig.site_title],
        ["page_title", config.page_title || defaultConfig.page_title],
        ["empty_cart_message", config.empty_cart_message || defaultConfig.empty_cart_message],
        ["btn_continue_shopping", config.btn_continue_shopping || defaultConfig.btn_continue_shopping],
        ["btn_checkout", config.btn_checkout || defaultConfig.btn_checkout],
        ["footer_text", config.footer_text || defaultConfig.footer_text]
      ]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }

    // Initialize cart display
    updateCartDisplay();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a880dbff3758945',t:'MTc2NDgxNzIyOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>