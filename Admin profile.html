<!doctype html>
<html lang="th">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
    }
    
    @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&family=Prompt:wght@400;600;700&display=swap');
    
    * {
      font-family: 'Sarabun', sans-serif;
    }
    
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
    
    .settings-card {
      transition: all 0.3s ease;
    }
    
    .settings-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
    }
    
    .profile-avatar-large {
      position: relative;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .profile-avatar-large:hover {
      transform: scale(1.05);
    }
    
    .profile-avatar-large::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border-radius: 50%;
      background: rgba(0, 0, 0, 0);
      transition: all 0.3s ease;
    }
    
    .profile-avatar-large:hover::before {
      background: rgba(0, 0, 0, 0.3);
    }
    
    .profile-avatar-large .edit-overlay {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      opacity: 0;
      transition: all 0.3s ease;
      font-size: 32px;
      pointer-events: none;
    }
    
    .profile-avatar-large:hover .edit-overlay {
      opacity: 1;
    }
    
    .avatar-option {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 40px;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 3px solid transparent;
    }
    
    .avatar-option:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
    }
    
    .avatar-option.selected {
      border-color: #6366f1;
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
    }
    
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      animation: fadeIn 0.3s ease;
    }
    
    .modal-content {
      border-radius: 24px;
      max-width: 600px;
      width: 90%;
      max-height: 80%;
      overflow-y: auto;
      animation: slideUp 0.3s ease;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes slideUp {
      from { transform: translateY(50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 56px;
      height: 32px;
    }
    
    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    
    .toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border-radius: 34px;
      transition: 0.4s;
    }
    
    .toggle-slider:before {
      position: absolute;
      content: "";
      height: 24px;
      width: 24px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      border-radius: 50%;
      transition: 0.4s;
    }
    
    input:checked + .toggle-slider:before {
      transform: translateX(24px);
    }
    
    .payment-method {
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .payment-method:hover {
      transform: scale(1.02);
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="w-full h-full">
  <div class="w-full h-full overflow-y-auto" id="main-container"><!-- Top Bar with Profile -->
   <div class="w-full px-8 py-6 border-b flex items-center justify-between sticky top-0 z-50" id="top-bar">
    <div class="flex items-center gap-6"><!-- Profile Avatar -->
     <div class="profile-avatar-large" onclick="openAvatarSelector()">
      <div class="w-20 h-20 rounded-full flex items-center justify-center text-4xl font-bold" id="main-avatar" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
       üë®‚Äçüíº
      </div>
      <div class="edit-overlay">
       üì∑
      </div>
     </div><!-- Profile Info -->
     <div>
      <h1 class="text-2xl font-bold mb-1" id="profile-name" style="font-family: 'Prompt', sans-serif;">‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ</h1>
      <p class="text-sm opacity-70 mb-1" id="profile-role">‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö</p>
      <p class="text-xs opacity-60" id="profile-email">admin@storybyte.com</p>
     </div>
    </div><!-- Dashboard Button --> <button class="px-6 py-3 rounded-xl font-semibold shadow-lg transition-all hover:shadow-xl" id="dashboard-btn" onclick="gotoDashboard()" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;"> <span id="dashboard-text">üìä ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</span> </button>
   </div><!-- Main Content -->
   <div class="w-full px-8 py-8"><!-- Quick Stats -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
     <div class="settings-card p-6 rounded-2xl shadow-lg" id="stat-card-1">
      <div class="flex items-center gap-4">
       <div class="text-5xl">
        üí∞
       </div>
       <div>
        <div class="text-3xl font-bold mb-1">
         ‡∏ø158,400
        </div>
        <div class="text-sm opacity-70">
         ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ
        </div>
       </div>
      </div>
     </div>
     <div class="settings-card p-6 rounded-2xl shadow-lg" id="stat-card-2">
      <div class="flex items-center gap-4">
       <div class="text-5xl">
        üë•
       </div>
       <div>
        <div class="text-3xl font-bold mb-1">
         24,589
        </div>
        <div class="text-sm opacity-70">
         ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        </div>
       </div>
      </div>
     </div>
     <div class="settings-card p-6 rounded-2xl shadow-lg" id="stat-card-3">
      <div class="flex items-center gap-4">
       <div class="text-5xl">
        ‚è±Ô∏è
       </div>
       <div>
        <div class="text-3xl font-bold mb-1">
         99.8%
        </div>
        <div class="text-sm opacity-70">
         Uptime
        </div>
       </div>
      </div>
     </div>
    </div><!-- Profile Edit Section -->
    <div class="settings-card p-8 rounded-2xl shadow-lg mb-8" id="profile-section">
     <h2 class="text-2xl font-bold mb-6" style="font-family: 'Prompt', sans-serif;">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</h2>
     <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
      <div><label for="name-input" class="block text-sm font-semibold mb-2">‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</label> <input type="text" id="name-input" class="w-full px-4 py-3 rounded-xl border-2 focus:outline-none transition-all" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠" value="‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ">
      </div>
      <div><label for="email-input" class="block text-sm font-semibold mb-2">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label> <input type="email" id="email-input" class="w-full px-4 py-3 rounded-xl border-2 focus:outline-none transition-all" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•" value="admin@storybyte.com">
      </div>
     </div>
     <div class="mb-6"><label for="bio-input" class="block text-sm font-semibold mb-2">‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ / ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</label> <input type="text" id="bio-input" class="w-full px-4 py-3 rounded-xl border-2 focus:outline-none transition-all" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢" value="‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö">
     </div><button class="w-full py-3 rounded-xl font-semibold shadow-lg transition-all hover:shadow-xl" id="save-profile-btn" onclick="saveProfile()"> üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• </button>
    </div><!-- Payment Settings -->
    <div class="settings-card p-8 rounded-2xl shadow-lg mb-8" id="payment-section">
     <h2 class="text-2xl font-bold mb-6" id="payment-heading" style="font-family: 'Prompt', sans-serif;">üí≥ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h2>
     <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"><!-- PromptPay -->
      <div class="payment-method p-4 rounded-xl border-2 transition-all" id="payment-promptpay" onclick="selectPayment('promptpay')">
       <div class="flex items-center justify-between mb-3">
        <div class="flex items-center gap-3">
         <div class="text-3xl">
          üì±
         </div>
         <div class="font-bold">
          PromptPay
         </div>
        </div><label class="toggle-switch" onclick="event.stopPropagation();"> <input type="checkbox" checked onchange="togglePayment('PromptPay', this.checked)"> <span class="toggle-slider" id="toggle-promptpay"></span> </label>
       </div>
       <div class="text-sm opacity-70">
        ‡∏™‡πÅ‡∏Å‡∏ô QR Code ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô
       </div>
      </div><!-- Credit Card -->
      <div class="payment-method p-4 rounded-xl border-2 transition-all" id="payment-card" onclick="selectPayment('card')">
       <div class="flex items-center justify-between mb-3">
        <div class="flex items-center gap-3">
         <div class="text-3xl">
          üí≥
         </div>
         <div class="font-bold">
          ‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï/‡πÄ‡∏î‡∏ö‡∏¥‡∏ï
         </div>
        </div><label class="toggle-switch" onclick="event.stopPropagation();"> <input type="checkbox" checked onchange="togglePayment('‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï/‡πÄ‡∏î‡∏ö‡∏¥‡∏ï', this.checked)"> <span class="toggle-slider" id="toggle-card"></span> </label>
       </div>
       <div class="text-sm opacity-70">
        Visa, Mastercard, JCB
       </div>
      </div><!-- TrueMoney -->
      <div class="payment-method p-4 rounded-xl border-2 transition-all" id="payment-truemoney" onclick="selectPayment('truemoney')">
       <div class="flex items-center justify-between mb-3">
        <div class="flex items-center gap-3">
         <div class="text-3xl">
          üü†
         </div>
         <div class="font-bold">
          TrueMoney Wallet
         </div>
        </div><label class="toggle-switch" onclick="event.stopPropagation();"> <input type="checkbox" onchange="togglePayment('TrueMoney', this.checked)"> <span class="toggle-slider" id="toggle-truemoney"></span> </label>
       </div>
       <div class="text-sm opacity-70">
        ‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå
       </div>
      </div><!-- Banking -->
      <div class="payment-method p-4 rounded-xl border-2 transition-all" id="payment-banking" onclick="selectPayment('banking')">
       <div class="flex items-center justify-between mb-3">
        <div class="flex items-center gap-3">
         <div class="text-3xl">
          üè¶
         </div>
         <div class="font-bold">
          ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£
         </div>
        </div><label class="toggle-switch" onclick="event.stopPropagation();"> <input type="checkbox" checked onchange="togglePayment('‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£', this.checked)"> <span class="toggle-slider" id="toggle-banking"></span> </label>
       </div>
       <div class="text-sm opacity-70">
        ‡πÇ‡∏≠‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£
       </div>
      </div>
     </div>
     <div class="p-4 rounded-xl border-2" id="fee-box"><label for="fee-input" class="block text-sm font-semibold mb-2">‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏° (%)</label> <input type="number" id="fee-input" class="w-full px-4 py-3 rounded-xl border-2 focus:outline-none" placeholder="2.5" value="2.5" min="0" max="100" step="0.1">
     </div>
    </div><!-- Maintenance Mode -->
    <div class="settings-card p-8 rounded-2xl shadow-lg" id="maintenance-section">
     <h2 class="text-2xl font-bold mb-6" id="maintenance-heading" style="font-family: 'Prompt', sans-serif;">üîß ‡πÇ‡∏´‡∏°‡∏î‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤</h2>
     <div class="p-6 rounded-xl border-2 mb-6" id="maintenance-toggle-box" style="background-color: rgba(34, 197, 94, 0.1); border-color: #22c55e;">
      <div class="flex items-center justify-between mb-4">
       <div class="flex items-center gap-4">
        <div class="text-5xl" id="maintenance-icon">
         ‚úÖ
        </div>
        <div>
         <div class="text-xl font-bold mb-1" id="maintenance-status-text">
          ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥
         </div>
         <div class="text-sm opacity-70" id="maintenance-desc">
          ‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏õ‡∏Å‡∏ï‡∏¥
         </div>
        </div>
       </div><label class="toggle-switch"> <input type="checkbox" id="maintenance-toggle" onchange="toggleMaintenance(this.checked)"> <span class="toggle-slider" id="maintenance-slider" style="background-color: #22c55e;"></span> </label>
      </div>
     </div><!-- Maintenance Settings (Hidden by default) -->
     <div id="maintenance-settings" style="display: none;" class="space-y-4">
      <div><label for="maintenance-message" class="block text-sm font-semibold mb-2">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</label> <textarea id="maintenance-message" rows="3" class="w-full px-4 py-3 rounded-xl border-2 focus:outline-none" placeholder="‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á">‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó ‡∏à‡∏∞‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÄ‡∏£‡πá‡∏ß‡πÜ ‡∏ô‡∏µ‡πâ</textarea>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
       <div><label for="maintenance-start" class="block text-sm font-semibold mb-2">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</label> <input type="datetime-local" id="maintenance-start" class="w-full px-4 py-3 rounded-xl border-2 focus:outline-none">
       </div>
       <div><label for="maintenance-end" class="block text-sm font-semibold mb-2">‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</label> <input type="datetime-local" id="maintenance-end" class="w-full px-4 py-3 rounded-xl border-2 focus:outline-none">
       </div>
      </div>
     </div>
    </div>
   </div>
  </div><!-- Avatar Selector Modal -->
  <div class="modal-overlay" id="avatar-modal">
   <div class="modal-content p-8" id="modal-box">
    <div class="flex items-center justify-between mb-6">
     <h3 class="text-2xl font-bold" style="font-family: 'Prompt', sans-serif;">üì∑ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</h3><button class="text-3xl opacity-70 hover:opacity-100 transition-all" onclick="closeAvatarSelector()">√ó</button>
    </div>
    <div class="grid grid-cols-4 gap-4 mb-6">
     <div class="avatar-option" data-emoji="üë®‚Äçüíº" onclick="selectAvatar('üë®‚Äçüíº')" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
      üë®‚Äçüíº
     </div>
     <div class="avatar-option" data-emoji="üë©‚Äçüíº" onclick="selectAvatar('üë©‚Äçüíº')" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
      üë©‚Äçüíº
     </div>
     <div class="avatar-option" data-emoji="üßë‚Äçüíª" onclick="selectAvatar('üßë‚Äçüíª')" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
      üßë‚Äçüíª
     </div>
     <div class="avatar-option" data-emoji="üë®‚Äçüéì" onclick="selectAvatar('üë®‚Äçüéì')" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
      üë®‚Äçüéì
     </div>
     <div class="avatar-option" data-emoji="üë©‚Äçüé®" onclick="selectAvatar('üë©‚Äçüé®')" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
      üë©‚Äçüé®
     </div>
     <div class="avatar-option" data-emoji="üßë‚ÄçüöÄ" onclick="selectAvatar('üßë‚ÄçüöÄ')" style="background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);">
      üßë‚ÄçüöÄ
     </div>
     <div class="avatar-option" data-emoji="üë®‚Äç‚öïÔ∏è" onclick="selectAvatar('üë®‚Äç‚öïÔ∏è')" style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);">
      üë®‚Äç‚öïÔ∏è
     </div>
     <div class="avatar-option" data-emoji="üë©‚Äçüî¨" onclick="selectAvatar('üë©‚Äçüî¨')" style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);">
      üë©‚Äçüî¨
     </div>
     <div class="avatar-option" data-emoji="üßë‚Äçüç≥" onclick="selectAvatar('üßë‚Äçüç≥')" style="background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);">
      üßë‚Äçüç≥
     </div>
     <div class="avatar-option" data-emoji="üë®‚Äçüè´" onclick="selectAvatar('üë®‚Äçüè´')" style="background: linear-gradient(135deg, #ff6e7f 0%, #bfe9ff 100%);">
      üë®‚Äçüè´
     </div>
     <div class="avatar-option" data-emoji="üë©‚Äçüíª" onclick="selectAvatar('üë©‚Äçüíª')" style="background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);">
      üë©‚Äçüíª
     </div>
     <div class="avatar-option" data-emoji="üßë‚Äçüé§" onclick="selectAvatar('üßë‚Äçüé§')" style="background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);">
      üßë‚Äçüé§
     </div>
     <div class="avatar-option" data-emoji="üòä" onclick="selectAvatar('üòä')" style="background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%);">
      üòä
     </div>
     <div class="avatar-option" data-emoji="üòé" onclick="selectAvatar('üòé')" style="background: linear-gradient(135deg, #fdcbf1 0%, #e6dee9 100%);">
      üòé
     </div>
     <div class="avatar-option" data-emoji="ü§ì" onclick="selectAvatar('ü§ì')" style="background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);">
      ü§ì
     </div>
     <div class="avatar-option" data-emoji="ü•≥" onclick="selectAvatar('ü•≥')" style="background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);">
      ü•≥
     </div>
    </div><button class="w-full py-3 rounded-xl font-semibold shadow-lg transition-all hover:shadow-xl" id="confirm-avatar-btn" onclick="closeAvatarSelector()"> ‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å </button>
   </div>
  </div><!-- Toast Container -->
  <div id="toast-container" style="position: fixed; top: 20px; right: 20px; z-index: 2000;"></div>
  <script>
    const defaultConfig = {
      background_color: "#f0f4f8",
      surface_color: "#ffffff",
      text_color: "#1e293b",
      primary_action_color: "#6366f1",
      secondary_action_color: "#8b5cf6",
      font_family: "Sarabun",
      font_size: 16,
      admin_name: "‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ",
      admin_email: "admin@storybyte.com",
      admin_bio: "‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö",
      payment_title: "‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô",
      maintenance_title: "‡πÇ‡∏´‡∏°‡∏î‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤",
      dashboard_button: "‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î"
    };

    let currentAvatar = 'üë®‚Äçüíº';
    let maintenanceMode = false;

    function openAvatarSelector() {
      document.getElementById('avatar-modal').style.display = 'flex';
      
      document.querySelectorAll('.avatar-option').forEach(option => {
        option.classList.remove('selected');
        if (option.dataset.emoji === currentAvatar) {
          option.classList.add('selected');
        }
      });
    }

    function closeAvatarSelector() {
      document.getElementById('avatar-modal').style.display = 'none';
    }

    function selectAvatar(emoji) {
      currentAvatar = emoji;
      document.getElementById('main-avatar').textContent = emoji;
      
      document.querySelectorAll('.avatar-option').forEach(option => {
        option.classList.remove('selected');
      });
      
      event.target.classList.add('selected');
      
      showToast(`‚úÖ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå: ${emoji}`);
    }

    function gotoDashboard() {
      showToast('üìä ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î...');
      setTimeout(() => {
        showToast('‚ú® ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î!');
      }, 800);
    }

    function saveProfile() {
      const name = document.getElementById('name-input').value;
      const email = document.getElementById('email-input').value;
      const bio = document.getElementById('bio-input').value;
      
      document.getElementById('profile-name').textContent = name;
      document.getElementById('profile-email').textContent = email;
      document.getElementById('profile-role').textContent = bio;
      
      if (window.elementSdk) {
        window.elementSdk.setConfig({
          admin_name: name,
          admin_email: email,
          admin_bio: bio
        });
      }
      
      showToast('üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!');
    }

    function selectPayment(method) {
      document.querySelectorAll('.payment-method').forEach(el => {
        el.style.transform = 'scale(1)';
      });
      const selected = document.getElementById(`payment-${method}`);
      selected.style.transform = 'scale(1.03)';
      showToast(`‚úÖ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å${getPaymentName(method)}`);
    }

    function getPaymentName(method) {
      const names = {
        promptpay: 'PromptPay',
        card: '‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï/‡πÄ‡∏î‡∏ö‡∏¥‡∏ï',
        truemoney: 'TrueMoney Wallet',
        banking: '‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£'
      };
      return names[method] || method;
    }

    function togglePayment(name, enabled) {
      showToast(enabled ? `‚úÖ ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ${name}` : `‚ùå ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ${name}`);
      
      event.target.parentElement.querySelector('.toggle-slider').style.backgroundColor = 
        enabled ? '#22c55e' : '#cbd5e1';
    }

    function toggleMaintenance(enabled) {
      maintenanceMode = enabled;
      const icon = document.getElementById('maintenance-icon');
      const statusText = document.getElementById('maintenance-status-text');
      const desc = document.getElementById('maintenance-desc');
      const settings = document.getElementById('maintenance-settings');
      const toggleBox = document.getElementById('maintenance-toggle-box');
      const slider = document.getElementById('maintenance-slider');
      
      const errorColor = '#ef4444';
      const successColor = '#22c55e';
      
      if (enabled) {
        icon.textContent = 'üîß';
        statusText.textContent = '‡πÇ‡∏´‡∏°‡∏î‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤';
        desc.textContent = '‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß';
        toggleBox.style.backgroundColor = `${errorColor}15`;
        toggleBox.style.borderColor = errorColor;
        settings.style.display = 'block';
        slider.style.backgroundColor = errorColor;
        showToast('üîß ‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏´‡∏°‡∏î‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤');
      } else {
        icon.textContent = '‚úÖ';
        statusText.textContent = '‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥';
        desc.textContent = '‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏õ‡∏Å‡∏ï‡∏¥';
        toggleBox.style.backgroundColor = `${successColor}15`;
        toggleBox.style.borderColor = successColor;
        settings.style.display = 'none';
        slider.style.backgroundColor = successColor;
        showToast('‚úÖ ‡∏õ‡∏¥‡∏î‡πÇ‡∏´‡∏°‡∏î‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤');
      }
    }

    function showToast(message) {
      const config = window.elementSdk ? window.elementSdk.config : defaultConfig;
      const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
      
      const toast = document.createElement('div');
      toast.textContent = message;
      toast.style.cssText = `
        padding: 16px 24px;
        border-radius: 12px;
        font-weight: 600;
        background-color: ${primaryColor};
        color: white;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        margin-bottom: 10px;
        animation: slideIn 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        max-width: 400px;
      `;
      
      document.getElementById('toast-container').appendChild(toast);
      
      setTimeout(() => {
        toast.style.animation = 'slideOut 0.4s ease-in';
        setTimeout(() => toast.remove(), 400);
      }, 3000);
    }

    async function applyStyles() {
      const config = window.elementSdk ? window.elementSdk.config : defaultConfig;
      
      const bgColor = config.background_color || defaultConfig.background_color;
      const surfaceColor = config.surface_color || defaultConfig.surface_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
      const secondaryColor = config.secondary_action_color || defaultConfig.secondary_action_color;
      const fontFamily = config.font_family || defaultConfig.font_family;
      const fontSize = config.font_size || defaultConfig.font_size;
      
      document.body.style.fontFamily = `${fontFamily}, sans-serif`;
      document.body.style.fontSize = `${fontSize}px`;
      document.body.style.backgroundColor = bgColor;
      document.body.style.color = textColor;
      
      document.getElementById('main-container').style.backgroundColor = bgColor;
      
      const topBar = document.getElementById('top-bar');
      topBar.style.backgroundColor = surfaceColor;
      topBar.style.borderColor = `${textColor}20`;
      
      document.getElementById('profile-name').textContent = config.admin_name || defaultConfig.admin_name;
      document.getElementById('profile-email').textContent = config.admin_email || defaultConfig.admin_email;
      document.getElementById('profile-role').textContent = config.admin_bio || defaultConfig.admin_bio;
      
      document.getElementById('name-input').value = config.admin_name || defaultConfig.admin_name;
      document.getElementById('email-input').value = config.admin_email || defaultConfig.admin_email;
      document.getElementById('bio-input').value = config.admin_bio || defaultConfig.admin_bio;
      
      document.getElementById('dashboard-text').textContent = `üìä ${config.dashboard_button || defaultConfig.dashboard_button}`;
      
      const dashBtn = document.getElementById('dashboard-btn');
      dashBtn.style.background = `linear-gradient(135deg, ${primaryColor} 0%, ${secondaryColor} 100%)`;
      
      const cards = document.querySelectorAll('.settings-card');
      cards.forEach(card => {
        card.style.backgroundColor = surfaceColor;
        card.style.color = textColor;
      });
      
      const inputs = document.querySelectorAll('input[type="text"], input[type="email"], input[type="number"], textarea, input[type="datetime-local"]');
      inputs.forEach(input => {
        input.style.borderColor = `${textColor}20`;
        input.style.color = textColor;
        input.style.backgroundColor = surfaceColor;
      });
      
      const saveBtn = document.getElementById('save-profile-btn');
      saveBtn.style.background = `linear-gradient(135deg, ${primaryColor} 0%, ${secondaryColor} 100%)`;
      saveBtn.style.color = '#ffffff';
      
      document.getElementById('payment-heading').textContent = `üí≥ ${config.payment_title || defaultConfig.payment_title}`;
      document.getElementById('maintenance-heading').textContent = `üîß ${config.maintenance_title || defaultConfig.maintenance_title}`;
      
      const paymentMethods = document.querySelectorAll('.payment-method');
      paymentMethods.forEach(method => {
        method.style.backgroundColor = surfaceColor;
        method.style.borderColor = `${textColor}20`;
        method.style.color = textColor;
      });
      
      const toggleSliders = document.querySelectorAll('.toggle-slider:not(#maintenance-slider)');
      toggleSliders.forEach(slider => {
        const checkbox = slider.previousElementSibling;
        if (checkbox && checkbox.checked) {
          slider.style.backgroundColor = primaryColor;
        } else {
          slider.style.backgroundColor = '#cbd5e1';
        }
      });
      
      const modalBox = document.getElementById('modal-box');
      modalBox.style.backgroundColor = surfaceColor;
      modalBox.style.color = textColor;
      
      const confirmAvatarBtn = document.getElementById('confirm-avatar-btn');
      confirmAvatarBtn.style.background = `linear-gradient(135deg, ${primaryColor} 0%, ${secondaryColor} 100%)`;
      confirmAvatarBtn.style.color = '#ffffff';
    }

    async function onConfigChange(config) {
      await applyStyles();
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [
          {
            get: () => config.background_color || defaultConfig.background_color,
            set: (value) => {
              if (window.elementSdk) {
                window.elementSdk.config.background_color = value;
                window.elementSdk.setConfig({ background_color: value });
              }
            }
          },
          {
            get: () => config.surface_color || defaultConfig.surface_color,
            set: (value) => {
              if (window.elementSdk) {
                window.elementSdk.config.surface_color = value;
                window.elementSdk.setConfig({ surface_color: value });
              }
            }
          },
          {
            get: () => config.text_color || defaultConfig.text_color,
            set: (value) => {
              if (window.elementSdk) {
                window.elementSdk.config.text_color = value;
                window.elementSdk.setConfig({ text_color: value });
              }
            }
          },
          {
            get: () => config.primary_action_color || defaultConfig.primary_action_color,
            set: (value) => {
              if (window.elementSdk) {
                window.elementSdk.config.primary_action_color = value;
                window.elementSdk.setConfig({ primary_action_color: value });
              }
            }
          },
          {
            get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
            set: (value) => {
              if (window.elementSdk) {
                window.elementSdk.config.secondary_action_color = value;
                window.elementSdk.setConfig({ secondary_action_color: value });
              }
            }
          }
        ],
        borderables: [],
        fontEditable: {
          get: () => config.font_family || defaultConfig.font_family,
          set: (value) => {
            if (window.elementSdk) {
              window.elementSdk.config.font_family = value;
              window.elementSdk.setConfig({ font_family: value });
            }
          }
        },
        fontSizeable: {
          get: () => config.font_size || defaultConfig.font_size,
          set: (value) => {
            if (window.elementSdk) {
              window.elementSdk.config.font_size = value;
              window.elementSdk.setConfig({ font_size: value });
            }
          }
        }
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ["admin_name", config.admin_name || defaultConfig.admin_name],
        ["admin_email", config.admin_email || defaultConfig.admin_email],
        ["admin_bio", config.admin_bio || defaultConfig.admin_bio],
        ["payment_title", config.payment_title || defaultConfig.payment_title],
        ["maintenance_title", config.maintenance_title || defaultConfig.maintenance_title],
        ["dashboard_button", config.dashboard_button || defaultConfig.dashboard_button]
      ]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }

    applyStyles();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a888f7e24dd895d',t:'MTc2NDgyMjU0My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>